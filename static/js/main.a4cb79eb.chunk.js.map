{"version":3,"sources":["components/Person.js","components/PeopleTable.js","api/getPeople.js","App.js","index.js"],"names":["Person","_ref","_classNames","person","handleClick","selectedPersonId","react_default","a","createElement","className","classNames","person--lived-over-65","age","Object","defineProperty","concat","century","sex","children","onClick","id","born--before_1650","born","died--after_1800","died","name","mother","father","map","child","join","PeopleTable","state","_this","setState","_this2","this","people","props","components_Person","key","React","Component","getPeople","asyncToGenerator","regenerator_default","mark","_callee","response","wrap","_context","prev","next","fetch","sent","json","abrupt","index","objectSpread","Math","ceil","filter","stop","apply","arguments","getSortedPeople","sortField","callback","personA","personB","localeCompare","toConsumableArray","sort","App","visiblePeople","loadData","sortBy","_this$state","length","type","components_PeopleTable","ReactDOM","render","src_App_0","test","document","getElementById"],"mappings":"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","file":"static/js/main.a4cb79eb.chunk.js","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nconst Person = ({ person, handleClick, selectedPersonId }) => (\n  <tr\n    className={classNames({\n      person: true,\n      'person--lived-over-65': person.age > 65,\n      [`person--lived-in-${person.century}`]: true,\n      'person--male': person.sex === 'm',\n      'person--female': person.sex === 'f',\n      'person--mother': person.sex === 'f' && person.children,\n      'person--father': person.sex === 'm' && person.children,\n      'row--selected': selectedPersonId,\n    })}\n    onClick={() => handleClick(person.id)}\n  >\n    <td>{person.id}</td>\n    <td\n      className={classNames({\n        'born--before_1650': person.born < 1650,\n        'died--after_1800': person.died > 1800,\n      })}\n    >\n      {person.name}\n    </td>\n    <td>\n      {person.sex}\n    </td>\n    <td>\n      {person.born}\n    </td>\n    <td>{person.died}</td>\n    <td>{person.mother}</td>\n    <td>{person.father}</td>\n    <td>{person.age}</td>\n    <td>{person.century}</td>\n    <td>{person.children.map(child => child.name).join(', ')}</td>\n  </tr>\n);\n\nPerson.propTypes = {\n  person: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    sex: PropTypes.string.isRequired,\n    born: PropTypes.number.isRequired,\n    died: PropTypes.number.isRequired,\n    mother: PropTypes.string,\n    father: PropTypes.string,\n    age: PropTypes.number.isRequired,\n    century: PropTypes.number.isRequired,\n    children: PropTypes.array,\n  }).isRequired,\n  selectedPersonId: PropTypes.bool.isRequired,\n  handleClick: PropTypes.func.isRequired,\n};\nexport default Person;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Person from './Person';\n\nclass PeopleTable extends React.Component {\n  state = {\n    selectedPersonId: null,\n  };\n\n  handleClick = (id) => {\n    this.setState({ selectedPersonId: id });\n  };\n\n  render() {\n    const { people } = this.props;\n    const { selectedPersonId } = this.state;\n    return (\n      <table className=\"PeopleTable\">\n        <thead>\n          <tr>\n            <th>id</th>\n            <th>name</th>\n            <th>sex</th>\n            <th>born</th>\n            <th>died</th>\n            <th>mother</th>\n            <th>father</th>\n            <th>age</th>\n            <th>century</th>\n            <th>children</th>\n          </tr>\n        </thead>\n        <tbody>\n          {people.map(person => (\n            <Person\n              person={person}\n              key={person.name}\n              selectedPersonId={person.id === selectedPersonId}\n              handleClick={this.handleClick}\n            />\n          ))}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default PeopleTable;\n","// eslint-disable-next-line\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nconst getPeople = async() => {\n  const response = await fetch(API_URL);\n  const people = await response.json();\n  return people.map((person, index) => ({\n    id: index + 1,\n    ...person,\n    age: person.died - person.born,\n    century: Math.ceil(person.died / 100),\n    children: people\n      .filter(child => (child.father === person.name)\n        || (child.mother === person.name)),\n  }\n  ));\n};\n\nexport default getPeople;\n","import React from 'react';\nimport PeopleTable from './components/PeopleTable';\nimport getPeople from './api/getPeople';\nimport './App.css';\n\nconst getSortedPeople = (people, sortField) => {\n  const callback = (typeof people[0][sortField] === 'string')\n    ? (personA, personB) => personA[sortField].localeCompare(personB[sortField])\n    : (personA, personB) => personA[sortField] - personB[sortField];\n\n  return [...people].sort(callback);\n};\n\nclass App extends React.Component {\n  state = {\n    people: [],\n    visiblePeople: [],\n    sortField: 'id',\n  };\n\n  async componentDidMount() {\n    this.loadData();\n  }\n\n  loadData = async() => {\n    const people = await getPeople();\n    this.setState({\n      people,\n      visiblePeople: getSortedPeople(people, 'id'),\n    });\n  };\n\n  sortBy = (sortField) => {\n    this.setState({\n      visiblePeople: getSortedPeople(this.state.people, sortField),\n      sortField,\n    });\n  };\n\n  render() {\n    const { people, visiblePeople } = this.state;\n    return (\n      <div className=\"App\">\n        <h1>\n          {`${people.length}`}\n          {' '}\n          people sorted by\n          {' '}\n          {this.state.sortField}\n        </h1>\n\n        <button type=\"button\" onClick={() => this.sortBy('id')}>\n          Sort by ID\n        </button>\n\n        <button type=\"button\" onClick={() => this.sortBy('name')}>\n          Sort by name\n        </button>\n\n        <button type=\"button\" onClick={() => this.sortBy('age')}>\n          Sort by age\n        </button>\n\n        <button type=\"button\" onClick={() => this.sortBy('born')}>\n          Sort by year of birth\n        </button>\n\n        <button type=\"button\" onClick={() => this.sortBy('died')}>\n          Sort by year of death\n        </button>\n\n        <PeopleTable\n          people={visiblePeople}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App test={123} />, document.getElementById('root'));\n"],"sourceRoot":""}